# 1.2.11.0

## Completed

- Breaking Changes:
  - `GuiImageFrameElement` will not check frame index availability anymore. The renderer should handle that properly.
- Fixed:
  - `#include <arm_acle.h>` is needed for `__yield` in `VlppOS.cpp`
  - Calling `GuiControlHost::Close()` skipped the last batch of async tasks.
- Added:
  - `IGuiRemoteProtocolChannel<TPackage>` and `IGuiRemoteProtocolChannelReceiver<TPackage>`
  - `GuiRemoteProtocolFromJsonChannel` creates `IGuiRemoteProtocol` from `IGuiRemoteProtocolChannel<Ptr<JsonNode>>`
  - `GuiRemoteJsonChannelFromProtocol` creates `IGuiRemoteProtocolChannel<Ptr<JsonNode>>` from `IGuiRemoteProtocol`
  - `SetupRawWindowsDirect2DRenderer`
  - `SetupRawWindowsGDIRenderer`
  - `GuiRemoteRendererSingle`

## Milestone

- GacUI
  - Mouse wheel trigger functions.
  - Unit Test Snapshot Viewer
    - Show dom nodes in a tree view in the right side of the rendering tab optionally.
    - Select dom node and jump to other tabs with highlight.
- Binary Remote protocol
  - Investigate about generating data structure in flat memory layout, so that no effort needed for binary serialization
  - Binary version of `GuiRemoteProtocolFromJsonChannel` and `GuiRemoteJsonChannelFromProtocol`
  - Use it in named pipe demo
- `GuiRemoteController`
  - Reconnecting
    - Test sending disconnect or other events when `Submit()` is pending on the event.
    - Support failure injection in unit test, making `UnitTestRemoteProtocol::Submit()` returns `true` to its `disconnected` parameter.
  - (optional) `Start` -> `StartWithUIThread` and `StartWithUIAndChannelThread`.
    - Move all UI and channel thread resources to two structs for easy refactoring.
    - The `StartWithUIThread` is useful when channel communication does not require to be done in a single thread, everything will be called from the UI thread and the receiver could be called from any non-UI thread.
- `RemotingTest_Core` and `RemotingTest_Rendering_Win32`
  - [x] [NamedPipe](https://learn.microsoft.com/en-us/windows/win32/ipc/named-pipe-server-using-overlapped-i-o)
  - [ ] [HttpServer](https://learn.microsoft.com/en-us/windows/win32/http/using-http-server-api)
    - Allow only one client by verifying a random guid in the message which is given from the registration request.
    - Allow disconnect and reconnect.
    - When TypeScript rendering is completed, the demo in `Release` repo would become a website server.
  - [ ] [HttpClient](https://learn.microsoft.com/en-us/windows/win32/winhttp/winhttp-start-page)
- `GuiRemoteRendererSingle`, only allowed on native implementation of `INativeController`.
  - Global shortcut key not handled
  - Display error in a more elegant way
  - Wheel not handled
- `UpdateDomInplace` performed binary search, create a common implementation to share with `SortedList`.
- `vl::presentation::remoteprotocol::channeling::ConvertUtfString` move into `Vlpp` repo.
- Hosted mode
  - All sub windows seem to have max/min button rendered, need to fix.
- GacUI
  - Test on all platforms to call main window's `Close` method from a button and see if it works:
    - Windows
    - Hosted
    - Remote
  - Test on all platforms to call main window's `Close` method with a message box and see if there is any memory leaks:
    - Windows
    - Hosted
    - Remote
- Document
  - `SetupRawWindowsDirect2DRenderer`
  - `SetupRawWindowsGDIRenderer`
