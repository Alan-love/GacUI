# 1.3.0.0

## Fixed
- `DocumentModel::SaveToXml` double space characters.
- `IGuiGraphicsParagraph` rendering and caret calculation bugs on GDI.

## Breaking Changes
- Delete `GuiSinglelineTextBox` and `GuiMultilineTextBox`.
  - A new `GuiSinglelineTextBox` will be created, inheriting from `GuiDocumentLabel`.
  - A new `GuiMultilineTextBox` will be created, inheriting from `GuiDocumentViewer`.

## New Features
- `GuiDocumentLabel` and `GuiDocumentViewer` accept `GuiDocumentConfig` to control document editing and rendering behavior.
- `GuiDocumentLabel` and `GuiDocumentViewer` offer `ConvertToPlainText`.
- Add `PasswordChar` to `GuiDocumentCommonInterface`, set to `\0` to disable.

## Copilot

- `kb-design.prompt.md`:
  - Adding a new control
  - UI Operations:
    - Tab, Alt
    - Event Propagation
  - Menu interaction between owner and sub item
  - List control architecture
    - Layout
    - Virtual item management
    - Tree item management
  - XML Compiler topics ...

## Milestone

- IME re-composing:
  - When Japanese IME is active, pressing SPACE on a select text gives me another chance to re-compose it. Figure out how it work and implement it.
- `CppTest`X3 + `GacUI_Host` to make sure the new text box work.
  - Ribbon tab button doesn't align on the bottom (the search box enlarged).
  - Ribbon text box in icon label seems too high.
  - Insert image file dialog doesn't show image files. Entering wrong file prompt and crash.
- Remove dependency to `VlppParser`.
- UnitTest
  - `CalculateSolidLabelSizeIfNecessary`, when calculating `textWidth`, use 0.6 of font size for each character.
- Document
  - `GuiSinglelineTextBox` and `GuiMultilineTextBox`
    - `Select` -> `SetCaret`
    - `Readonly` -> `EditMode`

## Depriorized

- `GuiRemoteController` Reconnecting
  - Test sending disconnect or other events when `Submit()` is pending on the event.
    - Especially during the first connection, it is observed in GacJS that when it is the first renderer and failed during connection ballbacks, Core can't respond to other renderers again.
  - Support failure injection in unit test, making `UnitTestRemoteProtocol::Submit()` returns `true` to its `disconnected` parameter.
- Unit Test: Check all control key operation, ensure accessibility. (has workaround)
  - Cannot scroll `GuiScrollView`, key operations needed and also need to be disabled for `GuiListControl` because it has already defined item selection keys.
  - Active top level menus (in a menu bar) without `Alt` property assigned.
    - Investigate about menu bar accepting tab actions. It appears on Windows tab menu buttons could have focus.
    - When a menu bar is activated by `[TAB]`, keep pressing `[TAB]` will go through all menu buttons and pass it to the next control after ending.
    - When a menu is activated by `[TAB]`, keep pressing `[TAB]` will go through all menu buttons and repeat, until `[ESC]`.
    - `[SPACE]` or `[ENTER]` selects a highlighted menu button when tabbing.
  - `GuiVirtualListView` cannot operate column headers by key.