# 1.3.0.0

## Milestone

- Vlpp
  - `switch (failureMode)` triggers clang warning.
- Copilot: `kb-design.prompt.md`:
  - Layout overview, adding a new composition, different layout options, rendering and layout timing.
  - Adding a new control
  - UI Operations:
    - Tab, Alt
    - Event Propagation
  - Menu interaction between owner and sub item
  - List control architecture
    - Layout
    - Virtual item management
    - Tree item management
  - XML Compiler topics ...
- `GuiDocumentViewer` and `GuiDocumentLabel`
  - In the constructor a struct of configration is required, and it will not be changed after the control is created:
    - `AutoExpand`: Only works for `GuiDocumentLabel`.
      - When it is true, the controls automatically expands to display the content.
      - When it is false, content automatically scrolls with cursor changing by user input.
        - Requires WrapLine(false) and ParagraphMode(Singleline)
      - When the document is empty, the minimum height will always be the height of the first line or the default font (must have been like this now)
  - `PasteAsPlainText`
  - `WrapLine`
    - `IGuiGraphicsParagraph` already allow line wrapping, it is time to test!
  - `ParagraphMode`
    - `Singleline`: only one paragraph is allowed, only one line is allowed in the first paragraph.
    - `Multiline`: only one line is allowed in each paragraph.
    - `Paragraph`: no limitation.
    - When the document is assigned directly, lines or paragraphs could be joined into one single line according to this property.
    - For `Multiline` paragraphs are parsed/joined with one CrLf. Meanwhile `Paragraph` is one between lines and two between paragraphs.
  - `ParagraphPadding`: true means spaces of the height of default font will be inserted between paragraphs.
  - In XML, it will still be a struct. All members are `Nullable<T>` so that default values are cleared.
    - The meaning of default values reflect the default configuration for `<DocumentViewer/>` and `<DocumentLabel/>`.
  - In C++, static functions for predefined controls will be used, all nullable values are filled.
  - XML supports will be completed first, making the configuration optional, so that it can be tested in `Playground`.
- Predefined settings:
  - DocumentBox/DocumentLabel
    - AutoExpand(true)
    - PasteAsPlainText(false)
    - WrapLine(true)
    - ParagraphMode(Paragraph)
    - ParagraphPadding(true)
  - DocumentViewer
    - AutoExpand(false)
    - PasteAsPlainText(false)
    - WrapLine(true)
    - ParagraphMode(Paragraph)
    - ParagraphPadding(true)
  - SinglelineTextBox
    - AutoExpand(false)
    - PasteAsPlainText(true)
    - WrapLine(false)
    - ParagraphMode(Singleline)
    - ParagraphPadding(false)
  - MultilineTextBox
    - AutoExpand(false)
    - PasteAsPlainText(true)
    - WrapLine(false)
    - ParagraphMode(Multiline)
    - ParagraphPadding(false)
  - SinglineTextBox and MultilineTextBox are both DocumentViewer.
- Add `PasswordChar` t`GuiDocumentCommonInterface`, set to `\0` to disable.
- Delete `GuiSinglelineTextBox` and `GuiMultilineTextBox`.
  - A new `GuiSinglelineTextBox` will be created, inheriting from `GuiDocumentLabel`.
  - A new `GuiMultilineTextBox` will be created, inheriting from `GuiDocumentViewer`.
  - Their original control template tags and classes (if any) will be no longer needed.
  - Remove dependency to `VlppParser`.
  - Delete `GuiColorizedTextElement`.

## Depriorized

- `GuiRemoteController` Reconnecting
  - Test sending disconnect or other events when `Submit()` is pending on the event.
    - Especially during the first connection, it is observed in GacJS that when it is the first renderer and failed during connection ballbacks, Core can't respond to other renderers again.
  - Support failure injection in unit test, making `UnitTestRemoteProtocol::Submit()` returns `true` to its `disconnected` parameter.
- Unit Test: Check all control key operation, ensure accessibility. (has workaround)
  - Cannot scroll `GuiScrollView`, key operations needed and also need to be disabled for `GuiListControl` because it has already defined item selection keys.
  - Active top level menus (in a menu bar) without `Alt` property assigned.
    - Investigate about menu bar accepting tab actions. It appears on Windows tab menu buttons could have focus.
    - When a menu bar is activated by `[TAB]`, keep pressing `[TAB]` will go through all menu buttons and pass it to the next control after ending.
    - When a menu is activated by `[TAB]`, keep pressing `[TAB]` will go through all menu buttons and repeat, until `[ESC]`.
    - `[SPACE]` or `[ENTER]` selects a highlighted menu button when tabbing.
  - `GuiVirtualListView` cannot operate column headers by key.