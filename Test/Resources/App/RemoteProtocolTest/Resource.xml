<Resource>
  <Folder name="GacGenConfig">
    <Folder name="Cpp">
      <Text name="SourceFolder">Source</Text>
      <Text name="Resource">..\..\..\UIRes\RemoteProtocolTest.bin</Text>
      <Text name="NormalInclude">GacUI.h</Text>
      <Text name="Name">Demo</Text>
    </Folder>
  </Folder>

  <Instance name="ClickMeTabResource">
    <Instance ref.Class="demo::ClickMeTab">
      <TabPage ref.Name="self" Text="Home">
        <Button ref.Name="buttonClickMe" Alt="X" Text="Click Me!">
          <att.BoundsComposition-set AlignmentToParent="left:10 top:10 right:-1 bottom:-1"/>
          <ev.Clicked-eval><![CDATA[{
            buttonClickMe.Text = "You have clicked!";
          }]]></ev.Clicked-eval>
        </Button>
      </TabPage>
    </Instance>
  </Instance>

  <Script name="ViewModelResource">
    <Workflow>
      <![CDATA[
        module viewmodel;
        
        using system::*;
        using presentation::*;
        
        namespace demo
        {
          class DataItem
          {
            prop Name : string = "" {not observe}
            prop Title : string = "" {not observe}
            prop Description : string = "" {not observe}

            new(name:string, title:string, description:string)
            {
              Name = name;
              Title = title;
              Description = description;
            }
          }
        }
      ]]>
    </Workflow>
  </Script>

  <Instance name="DataGridTabResource">
    <Instance ref.Class="demo::DataGridTab">
      <ref.Members><![CDATA[
        var itemSource : observe DataItem^[] = {};
      ]]></ref.Members>
      <TabPage ref.Name="self" Text="DataGrid">
        <Table CellPadding="10" AlignmentToParent="left:0 top:0 right:0 bottom:0" MinSizeLimitation="LimitToElementAndChildren">
          <att.Rows>
            <_>composeType:MinSize</_>
            <_>composeType:Percentage percentage:1.0</_>
          </att.Rows>
          <att.Columns>
            <_>composeType:MinSize</_>
            <_>composeType:MinSize</_>
            <_>composeType:Percentage percentage:1.0</_>
          </att.Columns>

          <Cell Site="row:0 column:0">
            <Button Alt="X" Text="Add 3 Rows">
              <ev.Clicked-eval><![CDATA[{
                for (i in range [1, 3])
                {
                  self.itemSource.Add(new DataItem^(
                    Sys::LoremIpsumTitle(12),
                    Sys::LoremIpsumTitle(20),
                    Sys::LoremIpsumSentence(40)
                  ));
                }
              }]]></ev.Clicked-eval>
            </Button>
          </Cell>
          <Cell Site="row:0 column:1">
            <Button Alt="Y" Text="Clear">
              <ev.Clicked-eval><![CDATA[{
                self.itemSource.Clear();
              }]]></ev.Clicked-eval>
            </Button>
          </Cell>
          <Cell Site="row:1 column:0 columnSpan:3">
            <BindableDataGrid Alt="Z" env.ItemType="demo::DataItem^" VerticalAlwaysVisible="false" HorizontalAlwaysVisible="false">
              <att.BoundsComposition-set AlignmentToParent="left:0 top:0 right:0 bottom:0"/>
              <att.ItemSource-eval>self.itemSource</att.ItemSource-eval>
              <att.Columns>
                <DataColumn Text="Name" Size="120">
                  <att.TextProperty>Name</att.TextProperty>
                </DataColumn>
                <DataColumn Text="Title" Size="160">
                  <att.TextProperty>Title</att.TextProperty>
                </DataColumn>
                <DataColumn Text="Description" Size="300">
                  <att.TextProperty>Description</att.TextProperty>
                </DataColumn>
              </att.Columns>
            </BindableDataGrid>
          </Cell>
        </Table>
      </TabPage>
    </Instance>
  </Instance>

  <Instance name="MainWindowResource">
    <Instance ref.Class="demo::MainWindow" xmlns:demo="demo::*">
      <Window ref.Name="self" Text="Remote Protocol Test" ClientSize="x:640 y:480">
        <att.BoundsComposition-set PreferredMinSize="x:640 y:480"/>
        <Tab>
          <att.BoundsComposition-set AlignmentToParent="left:0 top:0 right:0 bottom:0"/>
          <att.Pages>
            <demo:ClickMeTab Alt="A"/>
            <demo:DataGridTab Alt="B"/>
          </att.Pages>
        </Tab>
      </Window>
    </Instance>
  </Instance>
</Resource>