<Resource>
  <Instance name="ThemeResource">
    <Instance ref.CodeBehind="false" ref.Class="demo::TestTheme" xmlns:x="testtheme::*">
      <ThemeTemplates Name="TestSkin">
      </ThemeTemplates>
    </Instance>
  </Instance>

  <Folder name="LargeImages" content="Link">../../../Resources/App/FullControlTest/Images/LargeImages.xml</Folder>
  <Folder name="SmallImages" content="Link">../../../Resources/App/FullControlTest/Images/SmallImages.xml</Folder>

  <Script name="ViewModelResource">
    <Workflow><![CDATA[
      module viewmodel;
      using system::*;

      class Item
      {
        prop Name : string = "" {}
        prop Title : string = "" {}
        prop Selected : bool = false {}

        new (name:string, title:string)
        {
          Name = name;
          Title = title;
        }
      }
    ]]></Workflow>
  </Script>

  <Instance name="MainWindowResource">
    <Instance ref.CodeBehind="false" ref.Class="demo::TestWindow">
      <ref.Members><![CDATA[
        var items : observe Item^[] = {
          new Item^("First", "1st")
          new Item^("Second", "2nd")
          new Item^("Third", "3rd")
        };
      ]]></ref.Members>
      <Window ref.Name="self" Text="MainWindow" ClientSize="x:640 y:480">
        <Table CellPadding="5" BorderVisible="false" MinSizeLimitation="LimitToElementAndChildren" AlignmentToParent="left:0 top:0 right:0 bottom:0">
          <att.Rows>
            <_>composeType:MinSize</_>
            <_>composeType:Percentage percentage:1.0</_>
          </att.Rows>
          <att.Columns>
            <_>composeType:MinSize</_>
            <_>composeType:MinSize</_>
            <_>composeType:MinSize</_>
            <_>composeType:Percentage percentage:1.0</_>
          </att.Columns>
          <Cell Site="row:0 column:0">
            <ComboBox ref.Name="comboView" Alt="V" SelectedIndex="0">
              <att.BoundsComposition-set PreferredMinSize="x:120"/>
              <att.ListControl>
                <TextList HorizontalAlwaysVisible="false" VerticalAlwaysVisible="false">
                  <att.Items>
                    <TextItem Text="BigIcon"/>
                    <TextItem Text="SmallIcon"/>
                    <TextItem Text="List"/>
                    <TextItem Text="Tile"/>
                    <TextItem Text="Information"/>
                    <TextItem Text="Detail"/>
                  </att.Items>
                </TextList>
              </att.ListControl>
              <ev.SelectedIndexChanged-eval>
                <![CDATA[
                  {
                    switch (comboView.SelectedIndex)
                    {
                    case 0:
                      {
                        listView.View = BigIcon;
                      }
                    case 1:
                      {
                        listView.View = SmallIcon;
                      }
                    case 2:
                      {
                        listView.View = ListViewView::List;
                      }
                    case 3:
                      {
                        listView.View = Tile;
                      }
                    case 4:
                      {
                        listView.View = Information;
                      }
                    case 5:
                      {
                        listView.View = Detail;
                      }
                    }
                  }
                ]]>
              </ev.SelectedIndexChanged-eval>
            </ComboBox>
          </Cell>
          <Cell Site="row:0 column:1">
            <Button Text="Change MainColumn">
              <ev.Clicked-eval><![CDATA[
                {
                  listView.Items[0].Text = "MainColumn";
                }
              ]]></ev.Clicked-eval>
            </Button>
          </Cell>
          <Cell Site="row:0 column:2">
            <Button Text="Change SubColumn">
              <ev.Clicked-eval><![CDATA[
                {
                  listView.Items[0].SubItems[0] = "SubColumn";
                }
              ]]></ev.Clicked-eval>
            </Button>
          </Cell>
          <Cell Site="row:1 column:0 columnSpan:4">
            <ListView ref.Name="listView" View="BigIcon">
              <att.BoundsComposition-set AlignmentToParent="left:0 top:0 right:0 bottom:0"/>

              <att.Columns>
                <_ Text="Id"/>
                <_ Text="Category"/>
                <_ Text="Size"/>
                <_ Text="File"/>
              </att.Columns>

              <att.DataColumns>
                <_>0</_>
                <_>1</_>
                <_>2</_>
              </att.DataColumns>

              <att.Items>
                <_ Text="First" LargeImage-uri="res://LargeImages/Task" SmallImage-uri="res://SmallImages/Task"><att.SubItems><_>One</_><_>Two</_><_>Three</_></att.SubItems></_>
                <_ Text="Second" LargeImage-uri="res://LargeImages/Reminder" SmallImage-uri="res://SmallImages/Reminder"><att.SubItems><_>One</_><_>Two</_><_>Three</_></att.SubItems></_>
                <_ Text="Third" LargeImage-uri="res://LargeImages/Tip" SmallImage-uri="res://SmallImages/Tip"><att.SubItems><_>One</_><_>Two</_><_>Three</_></att.SubItems></_>
                <_ Text="Fourth" LargeImage-uri="res://LargeImages/Tip" SmallImage-uri="res://SmallImages/Tip"><att.SubItems><_>One</_><_>Two</_><_>Three</_></att.SubItems></_>
              </att.Items>
            </ListView>
          </Cell>
        </Table>
      </Window>
    </Instance>
  </Instance>
</Resource>